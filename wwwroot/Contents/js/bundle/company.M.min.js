function showAllContent(){$(".article .btn-seemore").remove();$(".article .bg-article").remove();$(".article .content").removeClass("short")}function HandleSubCateFilter(){var i=$(".quicklink").position(),r=$("a[data-url=all]").outerHeight(!0),n=i.top+r*2,t=!1;firstRun?($(".cate__filter").each(function(){var t=$(this).position(),i=t.top;i>=n&&$(this).hasClass("active")&&(isHasHideSubCateActive=!0)}),firstRun=!1):isHasHideSubCateActive=!1;isHasHideSubCateActive==!1?$(".cate__filter").each(function(){var i=$(this).position(),r=i.top;r>=n&&($(this).hide(),t=!0)}):($("#show-all-cate").text("Thu gọn"),$("#show-all-cate").addClass("arrow-menuC"),isShow=!0);t&&$("#show-all-cate").show()}function getCompanyList(){flagCompanyList&&(flagCompanyList=!1,query.IsFilterManyCate="1",$.ajax({url:"/Company/GetCompanyList",type:"POST",data:query,cache:!1,"async":query.PageIndex==0,beforeSend:function(){$(".preloader").show()},success:function(n){var t,i;$(".preloader").hide();flagCompanyList=!0;$(".listcompany").html(n.listcompanys);t=n.total;t!==undefined&&$(".filter-company .number-show").html(t+" Doanh nghiệp");i="c="+query.StrListCateId;document.location.hash=i},error:function(){console.log("Lỗi gọi action GetCompanyList")}}))}function unique(n,t,i){return i.indexOf(n)===t}function viewMoreCompany(){flagViewMoreCompany&&(flagViewMoreCompany=!1,query.PageIndex+=1,$.ajax({url:"/Company/GetCompanyList",type:"POST",data:query,cache:!1,"async":query.PageIndex==0,beforeSend:function(){$("#preloader").show()},success:function(n){$("#preloader").hide();flagViewMoreCompany=!0;$(".listcompany").append($(n.listcompanys));var t=n.total;t!==undefined&&(t>(query.PageIndex+1)*query.PageSize?$(".viewmore_company a span").text("Xem thêm "+t-(query.PageIndex+1)*query.PageSize+" doanh nghiệp"):$(".viewmore_company").hide())},error:function(){console.log("Lỗi gọi action GetCompanyList")}}))}function viewMoreProduct(n){flagViewMoreProduct&&(flagViewMoreProduct=!1,query.ProductType=n,n=="1"?query.PageIndexBuy+=1:query.PageIndexSell+=1,$.ajax({url:"/Company/GetProductList",type:"POST",data:query,cache:!1,"async":!1,beforeSend:function(){},success:function(t){flagViewMoreProduct=!0;var i=t.total;n=="1"?($(".block__buy .listbuy").append($(t.listproducts)),i!==undefined&&(i>(query.PageIndexBuy+1)*query.PageSizeBuy?$(".block__buy a.btn-readmore span").text("Xem thêm "+(i-(query.PageIndexBuy+1)*query.PageSizeBuy)+" sản phẩm chào mua"):$(".block__buy a.btn-readmore").hide())):($(".block__sell .listproduct").append($(t.listproducts)),i!==undefined&&(console.log(i-(query.PageIndexSell+1)*query.PageSizeSell),i>(query.PageIndexSell+1)*query.PageSizeSell?$(".block__sell a.btn-readmore span").text("Xem thêm "+(i-(query.PageIndexSell+1)*query.PageSizeSell)+" sản phẩm chào bán"):$(".block__sell a.btn-readmore").hide()))},error:function(){console.log("Lỗi gọi action GetCompanyList")}}))}var isShow=!1,isHasHideSubCateActive=!1,firstRun=!0,flagCompanyList,flagViewMoreCompany,flagViewMoreProduct;$(document).ready(function(){var n,t;query.IsMobile!=undefined&&query.IsMobile&&(HandleSubCateFilter(),$("#show-all-cate").click(function(){$(".quicklink").find("a:hidden").show();isShow===!1?($(this).text("Thu gọn"),$(this).addClass("arrow-menuC"),isShow=!0):($(this).text("Xem tất cả danh mục"),$(this).removeClass("arrow-menuC"),HandleSubCateFilter(),isShow=!1)}));n=document.location.hash;n&&(query.StrListCateId=n.replace("#c=",""),t=n.replace("#c=","").split(","),t!==undefined&&jQuery.each(t,function(n,t){$(".filter-company .quicklink").find("a[data-id='"+t+"']").addClass("active")}),getCompanyList(),firstRun=!0,HandleSubCateFilter());$(".quicklink a.cate__filter").click(function(){var r,n,i,t;$(this).toggleClass("active");r=$(this).data("id");n=$(this).data("url");r!==undefined&&n!==undefined&&(r==0&&n=="all"?$(this).hasClass("active")&&(window.location.href="/doanh-nghiep"):$(this).hasClass("active")&&$(".filter-company .quicklink").find("a[data-id='0'].active").length>0&&$(".filter-company .quicklink").find("a[data-id='0']").removeClass("active"),i=$(".filter-company .quicklink a.active"),i.length>0?i.length==1?(n=$(".filter-company .quicklink a.active").data("url"),window.location.href="/doanh-nghiep/"+n):(t=[],i.each(function(){t.push($(this).data("id"))}),t=t.filter(unique),query.StrListCateId=t.join(),getCompanyList()):window.location.href="/doanh-nghiep")});$(".content").height()>300?($(".content").addClass("short"),$(".article a.btn-seemore").show()):($(".article .btn-seemore").remove(),$(".article .bg-article").remove(),$(".article .content").removeClass("short"))});flagCompanyList=!0;flagViewMoreCompany=!0;flagViewMoreProduct=!0;